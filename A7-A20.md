
## A7 Perform cross-chain NFT transfer as flow-a1 (CLOSE) (OK CHANNEL)
Transfer in a never-go-back style.	ClassID + NFTID

**i --(1)--> s --(1)--> j --(1)--> i**

### Prepare

Test a new mint



```bash
JSON_SCHEMA='{"github_username": "marcotradenet","discord_handle": "MarcR#1797","team_name": "Commercio.Network","community": "none"}'
RPC="http://34.80.93.133:26657"
CHAIN_ID="gon-irishub-1"

JSON_MINT='{"github_username": "marcotradenet","discord_handle": "MarcR#1797","team_name": "Commercio.Network","community": "none"}'

iris tx nft mint commnet001 commNft006 \
--name "Commercio.Network 1th NFT for flow-a1" \
--uri "https://drive.google.com/file/d/1a9-c38PdRug8_giUdPLJA_te0W1DZSBX/view?usp=sharing" \
--uri-hash "" \
--data "$JSON_MINT" \
--recipient iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq \
--gas auto \
--gas-adjustment 1.4 \
--fees 2000uiris \
--from GoN-Address \
--keyring-backend test \
--chain-id "$CHAIN_ID" \
--node $RPC -y

# 295DF3253A6B9BAE057AE0E46B94F92F6540D6364C0C53D91F71E9E857A4891D
```



### Iris to Stargaze
```bash
iris tx nft-transfer transfer \
 nft-transfer \
 channel-22 \
 stars13qfqt0htfel3sxzys8hqeql8gyyspn9zlgcllq \
 commnet001 \
 commNft006 \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000uiris \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$CHAIN_ID" \
 --node $RPC -y

# A1C8AFBE9EE152F8FC638347D43395F4B0D878D1C334933F5597D64A4C8FB250

```

Verifica

```bash
RPC_STARGAZE="https://rpc.elgafar-1.stargaze-apis.com:443"

starsd q wasm contract-state smart stars1ve46fjrhcrum94c7d8yc2wsdz8cpuw73503e8qn9r44spr6dw0lsvmvtqh '{"nft_contract": {"class_id" : "wasm.stars1ve46fjrhcrum94c7d8yc2wsdz8cpuw73503e8qn9r44spr6dw0lsvmvtqh/channel-207/commnet001"}}' --node $RPC_STARGAZE 

data: stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4


starsd q wasm contract-state smart stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4 '{"all_nft_info":{"token_id": "commNft006"}}' --node $RPC_STARGAZE 
```


stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4

### Stargaze to Juno



```bash
RPC_STARGAZE="https://rpc.elgafar-1.stargaze-apis.com:443"
CHAIN_ID_STARGAZE="elgafar-1"


MSG='{"receiver": "juno13qfqt0htfel3sxzys8hqeql8gyyspn9zaxvend","channel_id":"channel-211","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "stars1ve46fjrhcrum94c7d8yc2wsdz8cpuw73503e8qn9r44spr6dw0lsvmvtqh", "token_id": "commNft006", "msg":  "'$MSG_BASE64'"}}'

starsd tx wasm execute stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4 \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000ustars \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$CHAIN_ID_STARGAZE" \
 --node $RPC_STARGAZE -y


# F9C2D11D1DE32D24BF936458EF90CB0DB4641FFC5B7BF76DC4E978E939824F9A

```

Verifica

```bash
$JUNO_BIN q wasm contract-state smart juno1stv6sk0mvku34fj2mqrlyru6683866n306mfv52tlugtl322zmks26kg7a '{"nft_contract": {"class_id" : "wasm.juno1stv6sk0mvku34fj2mqrlyru6683866n306mfv52tlugtl322zmks26kg7a/'$JUNO_TO_STARGAZE_CHANNEL_1'/wasm.stars1ve46fjrhcrum94c7d8yc2wsdz8cpuw73503e8qn9r44spr6dw0lsvmvtqh/'$STARGAZE_TO_IRIS_CHANNEL_1'/commnet001"}}' --node $JUNO_RPC 
# juno1qyflw42e6mc06pjlcmx5am8y7ljk899rqjc0yxtvr6af0apzflks8tpmhs

$JUNO_BIN q wasm contract-state smart juno1qyflw42e6mc06pjlcmx5am8y7ljk899rqjc0yxtvr6af0apzflks8tpmhs '{"all_nft_info":{"token_id": "commNft006"}}' --node $JUNO_RPC




```


```
data:
  access:
    approvals: []
    owner: juno13qfqt0htfel3sxzys8hqeql8gyyspn9zaxvend
  info:
    extension: {}
    token_uri: https://drive.google.com/file/d/1a9-c38PdRug8_giUdPLJA_te0W1DZSBX/view?usp=sharing
```


### Juno to Iris

```bash
MSG='{"receiver": "'$IRIS_ADDRESS'","channel_id":"'$JUNO_TO_IRIS_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "juno1stv6sk0mvku34fj2mqrlyru6683866n306mfv52tlugtl322zmks26kg7a", "token_id": "commNft006", "msg":  "'$MSG_BASE64'"}}'


$JUNO_BIN tx wasm execute juno1qyflw42e6mc06pjlcmx5am8y7ljk899rqjc0yxtvr6af0apzflks8tpmhs \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
 --node $JUNO_RPC -y

# 2FAA96916C7CB53502A716170EF76CD292B74AAE92EC33609ABC6DED98CDEC3F
```

Verifica

```bash
$IRIS_BIN q nft-transfer class-hash "nft-transfer/${IRIS_TO_JUNO_CHANNEL_1}/wasm.juno1stv6sk0mvku34fj2mqrlyru6683866n306mfv52tlugtl322zmks26kg7a/${JUNO_TO_STARGAZE_CHANNEL_1}/wasm.stars1ve46fjrhcrum94c7d8yc2wsdz8cpuw73503e8qn9r44spr6dw0lsvmvtqh/${STARGAZE_TO_IRIS_CHANNEL_1}/commnet001" --node $IRIS_RPC 

# 32D5545F90CAB25A4845BF7B90488AC51DC423FA1ED176FC7B260729489E4D94

$IRIS_BIN q nft collection ibc/32D5545F90CAB25A4845BF7B90488AC51DC423FA1ED176FC7B260729489E4D94 \
--node $IRIS_RPC --output json

```

```json
{
  "collection": {
    "denom": {
      "id": "ibc/32D5545F90CAB25A4845BF7B90488AC51DC423FA1ED176FC7B260729489E4D94",
      "name": "Commercio.Network NFT GoN",
      "schema": "",
      "creator": "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq",
      "symbol": "commnet_symbol",
      "mint_restricted": true,
      "update_restricted": true,
      "description": "",
      "uri": "https://commercio.network",
      "uri_hash": "",
      "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"team_name\":\"Commercio.Network\"}"
    },
    "nfts": [
      {
        "id": "commNft006",
        "name": "Commercio.Network 1th NFT for flow-a1",
        "uri": "https://drive.google.com/file/d/1a9-c38PdRug8_giUdPLJA_te0W1DZSBX/view?usp=sharing",
        "data": "{\"community\":\"none\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"team_name\":\"Commercio.Network\"}",
        "owner": "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq",
        "uri_hash": ""
      }
    ]
  },
  "pagination": {
    "next_key": null,
    "total": "0"
  }
}
```

## A8 Perform cross-chain NFT transfer as flow-a2 (CLOSE) (OK CHANNEL)

**i --(1)--> u --(1)--> o --(1)--> i**

```bash

JSON_MINT='{"github_username": "marcotradenet","discord_handle": "MarcR#1797","team_name": "Commercio.Network","community": "none"}'

$IRIS_BIN tx nft mint commnet001 commNft007 \
--name "Commercio.Network NFT for flow-a2" \
--uri "https://drive.google.com/file/d/1_m1x86gvs2CcCZxGv4dVCuqmgHrFYFb0/view?usp=sharing" \
--uri-hash "" \
--data "$JSON_MINT" \
--recipient $IRIS_ADDRESS \
--gas auto \
--gas-adjustment 1.4 \
--fees 2000${IRIS_DENOM} \
--from $WALLET_NAME \
--keyring-backend test \
--chain-id "$IRIS_CHAIN_ID" \
--node $IRIS_RPC -y

# 0357429F276456CAEEAB69F08FC6071DFA4ED3601DFAA8ABECE9EF82E27A7FE2
```


```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_UPTICK_CHANNEL_1 \
 $UPTICK_ADDRESS \
 commnet001 \
 commNft007 \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$IRIS_CHAIN_ID" \
--node $IRIS_RPC -y

# CAF7EF1AD730B1787B5137B588B5249CFD61723F1CC69371E02437951ED8A7C7
```

Verifica

```bash
$UPTICK_BIN query nft-transfer class-hash \
"nft-transfer/$UPTICK_TO_IRIS_CHANNEL_1/commnet001" \
--node $UPTICK_RPC

EFAF63750C0C9DFA450EC2AA3377F32CF7398888436F8412DC127C4236FAAB7B

$UPTICK_BIN query collection collection \
ibc/EFAF63750C0C9DFA450EC2AA3377F32CF7398888436F8412DC127C4236FAAB7B \
--node $UPTICK_RPC -o json | jq '.'

```

```json
{
  "collection": {
    "denom": {
      "id": "ibc/EFAF63750C0C9DFA450EC2AA3377F32CF7398888436F8412DC127C4236FAAB7B",
      "name": "",
      "schema": "",
      "creator": "uptick1lf6fde9wsspsdh6ph4jcsqpe9cjdhzky9g5as9",
      "symbol": "",
      "mint_restricted": true,
      "update_restricted": true,
      "description": "",
      "uri": "https://commercio.network",
      "uri_hash": "",
      "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:creator\":{\"value\":\"881205beeb4e7f18184481ee0c83e7410900cca2\"},\"irismod:description\":{\"value\":\"\"},\"irismod:mint_restricted\":{\"value\":true},\"irismod:name\":{\"value\":\"Commercio.Network NFT GoN\"},\"irismod:schema\":{\"value\":\"\"},\"irismod:symbol\":{\"value\":\"commnet_symbol\"},\"irismod:update_restricted\":{\"value\":true},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\"}"
    },
    "nfts": [
      {
        "id": "commNft007",
        "name": "",
        "uri": "https://drive.google.com/file/d/1_m1x86gvs2CcCZxGv4dVCuqmgHrFYFb0/view?usp=sharing",
        "data": "{\"community\":\"none\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:name\":{\"value\":\"Commercio.Network NFT for flow-a2\"},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\"}",
        "owner": "uptick1f9mc9659nljtfznv6p4rzuh0gxa6sz4xuj6zhn",
        "uri_hash": ""
      }
    ]
  },
  "pagination": {
    "next_key": null,
    "total": "0"
  }
}
```




### Uptick to Omniflix
```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_OMNIFLIX_CHANNEL_1 \
 $OMNIFLIX_ADDRESS \
 ibc/EFAF63750C0C9DFA450EC2AA3377F32CF7398888436F8412DC127C4236FAAB7B \
 commNft007 \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$UPTICK_CHAIN_ID" \
--node $UPTICK_RPC -y

# 132C28D0DAEFF0FA68C0AC33CBB2F370F56675F7BFFD3A22A8ABFCB80056FDA3


$UPTICK_BIN q tx 132C28D0DAEFF0FA68C0AC33CBB2F370F56675F7BFFD3A22A8ABFCB80056FDA3 --node $UPTICK_RPC 
```


Verifica


```bash

$OMNIFLIX_BIN query nft-transfer class-hash \
"nft-transfer/$OMNIFLIX_TO_UPTICK_CHANNEL_1/nft-transfer/$UPTICK_TO_IRIS_CHANNEL_1/commnet001" \
--node $OMNIFLIX_RPC

ibc_156A44E19C2E8D2F655F1F84FF1256933814E53D04B88DB0E48C8BE7863E228C


$OMNIFLIX_BIN query onft collection \
ibc/156A44E19C2E8D2F655F1F84FF1256933814E53D04B88DB0E48C8BE7863E228C \
--node $OMNIFLIX_RPC -o json | jq '.'
```

```json
{
  "denom": {
    "id": "ibc/156A44E19C2E8D2F655F1F84FF1256933814E53D04B88DB0E48C8BE7863E228C",
    "symbol": "",
    "name": "",
    "schema": "",
    "creator": "omniflix1zcpsseay358eu0mw6gdhdpx26q87mp7mx3ksgw",
    "description": "",
    "preview_uri": "",
    "uri": "https://commercio.network",
    "uri_hash": "",
    "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:creator\":{\"value\":\"881205beeb4e7f18184481ee0c83e7410900cca2\"},\"irismod:description\":{\"value\":\"\"},\"irismod:mint_restricted\":{\"value\":true},\"irismod:name\":{\"value\":\"Commercio.Network NFT GoN\"},\"irismod:schema\":{\"value\":\"\"},\"irismod:symbol\":{\"value\":\"commnet_symbol\"},\"irismod:update_restricted\":{\"value\":true},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\",\"uptickd:creator\":{\"value\":\"fa7496e4ae840306df41bd658800392e24db8ac4\"},\"uptickd:description\":{\"value\":\"\"},\"uptickd:mint_restricted\":{\"value\":true},\"uptickd:name\":{\"value\":\"\"},\"uptickd:schema\":{\"value\":\"\"},\"uptickd:symbol\":{\"value\":\"\"},\"uptickd:update_restricted\":{\"value\":true},\"uptickd:uri_hash\":{\"value\":\"\"}}"
  },
  "onfts": [
    {
      "id": "commNft007",
      "metadata": {
        "name": "",
        "description": "",
        "media_uri": "https://drive.google.com/file/d/1_m1x86gvs2CcCZxGv4dVCuqmgHrFYFb0/view?usp=sharing",
        "preview_uri": "",
        "uri_hash": ""
      },
      "data": "{\"community\":\"none\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:name\":{\"value\":\"Commercio.Network NFT for flow-a2\"},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\",\"uptickd:name\":{\"value\":\"\"},\"uptickd:uri_hash\":{\"value\":\"\"}}",
      "owner": "omniflix13qfqt0htfel3sxzys8hqeql8gyyspn9zk27mr0",
      "transferable": true,
      "extensible": true,
      "created_at": "0001-01-01T00:00:00Z",
      "nsfw": false,
      "royalty_share": "0.000000000000000000"
    }
  ]
}

```

### Ominiflix to Iris

```bash
$OMNIFLIX_BIN tx nft-transfer transfer \
 nft-transfer \
 $OMNIFLIX_TO_IRIS_CHANNEL_1 \
 $IRIS_ADDRESS \
 ibc/156A44E19C2E8D2F655F1F84FF1256933814E53D04B88DB0E48C8BE7863E228C \
 commNft007 \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${OMNIFLIX_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$OMNIFLIX_CHAIN_ID" \
 --node $OMNIFLIX_RPC -y

# 71F12B4BBD6916157EABCE7764669953515E512F417DD57B7C30D8D91413454B

```

Verifica


```bash
$IRIS_BIN q nft-transfer class-hash \
"nft-transfer/$IRIS_TO_OMNIFLIX_CHANNEL_1/nft-transfer/$OMNIFLIX_TO_UPTICK_CHANNEL_1/nft-transfer/$UPTICK_TO_IRIS_CHANNEL_1/commnet001" \
--node $IRIS_RPC

# hash: 809F118757366AA5AB7BFCE826E0D26F7ADF3AE9BE8264DDD327F66B88B6749F

$IRIS_BIN q nft collection "ibc/809F118757366AA5AB7BFCE826E0D26F7ADF3AE9BE8264DDD327F66B88B6749F" \
--node $IRIS_RPC -o json | jq '.'

```

```json
{
  "collection": {
    "denom": {
      "id": "ibc/809F118757366AA5AB7BFCE826E0D26F7ADF3AE9BE8264DDD327F66B88B6749F",
      "name": "Commercio.Network NFT GoN",
      "schema": "",
      "creator": "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq",
      "symbol": "commnet_symbol",
      "mint_restricted": true,
      "update_restricted": true,
      "description": "",
      "uri": "https://commercio.network",
      "uri_hash": "",
      "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"omniflix:creator\":{\"value\":\"16030867a48d0f9e3f6ed21b7684cad00fed87db\"},\"omniflix:description\":{\"value\":\"\"},\"omniflix:name\":{\"value\":\"\"},\"omniflix:preview_uri\":{\"value\":\"\"},\"omniflix:schema\":{\"value\":\"\"},\"omniflix:symbol\":{\"value\":\"\"},\"omniflix:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\",\"uptickd:creator\":{\"value\":\"fa7496e4ae840306df41bd658800392e24db8ac4\"},\"uptickd:description\":{\"value\":\"\"},\"uptickd:mint_restricted\":{\"value\":true},\"uptickd:name\":{\"value\":\"\"},\"uptickd:schema\":{\"value\":\"\"},\"uptickd:symbol\":{\"value\":\"\"},\"uptickd:update_restricted\":{\"value\":true},\"uptickd:uri_hash\":{\"value\":\"\"}}"
    },
    "nfts": [
      {
        "id": "commNft007",
        "name": "Commercio.Network NFT for flow-a2",
        "uri": "https://drive.google.com/file/d/1_m1x86gvs2CcCZxGv4dVCuqmgHrFYFb0/view?usp=sharing",
        "data": "{\"community\":\"none\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"omniflix:created_at\":{\"value\":\"0001-01-01T00:00:00Z\"},\"omniflix:description\":{\"value\":\"\"},\"omniflix:extensible\":{\"value\":true},\"omniflix:name\":{\"value\":\"\"},\"omniflix:nsfw\":{\"value\":false},\"omniflix:preview_uri\":{\"value\":\"\"},\"omniflix:royalty_share\":{\"value\":\"0.000000000000000000\"},\"omniflix:transferable\":{\"value\":true},\"omniflix:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\",\"uptickd:name\":{\"value\":\"\"},\"uptickd:uri_hash\":{\"value\":\"\"}}",
        "owner": "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq",
        "uri_hash": ""
      }
    ]
  },
  "pagination": {
    "next_key": null,
    "total": "0"
  }
}
```

## A9 Perform cross-chain NFT transfer as flow-a3 (CLOSE) (OK CHANNEL)
**i --(1)--> s --(1)--> j --(1)--> u --(1)--> i**

### Prepare

Test a new mint

```bash
JSON_MINT='{"github_username": "marcotradenet","discord_handle": "MarcR#1797","team_name": "Commercio.Network","community": "none"}'

$IRIS_BIN tx nft mint commnet001 commNft008 \
--name "Commercio.Network NFT for flow-a3" \
--uri "https://drive.google.com/file/d/15jS1xl7p8dtPJNjolNeQDbHyoYwq8f_h/view?usp=sharing" \
--uri-hash "" \
--data "$JSON_MINT" \
--recipient $IRIS_ADDRESS \
--gas auto \
--gas-adjustment 1.4 \
--fees 2000${IRIS_DENOM} \
--from GoN-Address \
--keyring-backend test \
--chain-id "$IRIS_CHAIN_ID" \
--node $IRIS_RPC -y

# CD8B2DB0FE1221BFAF721AC166526E9C3A57C89251288B7BC84AF24313DA706D
```



### Iris to Stargaze

```bash
NFT_ID="commNft008"


$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$IRIS_CHAIN_ID" \
 --node $IRIS_RPC -y

# 497683E1D8483FCFA03FD56B290A0B559F184C9810B1DC17CEE0FD523C03D963

```

Verifica

```bash

STARGAZE_PORT="stars1ve46fjrhcrum94c7d8yc2wsdz8cpuw73503e8qn9r44spr6dw0lsvmvtqh"

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "wasm.'$STARGAZE_PORT'/'$STARGAZE_TO_IRIS_CHANNEL_1'/commnet001"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4

$STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq '.'
```

```json
{
  "data": {
    "access": {
      "owner": "stars13qfqt0htfel3sxzys8hqeql8gyyspn9zlgcllq",
      "approvals": []
    },
    "info": {
      "token_uri": "https://drive.google.com/file/d/15jS1xl7p8dtPJNjolNeQDbHyoYwq8f_h/view?usp=sharing",
      "extension": {}
    }
  }
}
```

### Stargaze to Juno

```bash

MSG='{"receiver": "'$JUNO_ADDRESS'","channel_id":"'$STARGAZE_TO_JUNO_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y


# C3268A2475E667A88249AD7BF3572BBC601ADC5B64576E23F84108D5E7AD8349

```

Verifica

```bash
HASH=$($JUNO_BIN q wasm contract-state smart juno1stv6sk0mvku34fj2mqrlyru6683866n306mfv52tlugtl322zmks26kg7a \
'{"nft_contract": {"class_id" : "wasm.juno1stv6sk0mvku34fj2mqrlyru6683866n306mfv52tlugtl322zmks26kg7a/'$JUNO_TO_STARGAZE_CHANNEL_1'/wasm.stars1ve46fjrhcrum94c7d8yc2wsdz8cpuw73503e8qn9r44spr6dw0lsvmvtqh/'$STARGAZE_TO_IRIS_CHANNEL_1'/commnet001"}}' --node $JUNO_RPC --output json | jq -r '.data')

# juno1qyflw42e6mc06pjlcmx5am8y7ljk899rqjc0yxtvr6af0apzflks8tpmhs

$JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq '.'

```

```json
{
  "data": {
    "access": {
      "owner": "juno13qfqt0htfel3sxzys8hqeql8gyyspn9zaxvend",
      "approvals": []
    },
    "info": {
      "token_uri": "https://drive.google.com/file/d/15jS1xl7p8dtPJNjolNeQDbHyoYwq8f_h/view?usp=sharing",
      "extension": {}
    }
  }
}
```

### Juno to Uptick

```bash
MSG='{"receiver": "'$UPTICK_ADDRESS'","channel_id":"'$JUNO_TO_UPTICK_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
--node $JUNO_RPC -y

# 46EB6093F78F1E28D65E904A9E554B5233AF90C114C7008F090EB88D9761C962

```

Verifica

```bash

NFT_PATH=$(./echo_path.sh isju)"commnet001"

HASH=$($UPTICK_BIN q nft-transfer class-hash "$NFT_PATH" \
--node $UPTICK_RPC --output json | jq -r '.hash')



# hash 9F0ACDD95C8E851A3DE78AC683E6C570AD7D3B508C53C30FCFD58ED6F4559E46

$UPTICK_BIN q collection collection ibc/$HASH  --node $UPTICK_RPC -o json | jq  '.'

```

```json
{
  "collection": {
    "denom": {
      "id": "ibc/9F0ACDD95C8E851A3DE78AC683E6C570AD7D3B508C53C30FCFD58ED6F4559E46",
      "name": "",
      "schema": "",
      "creator": "uptick1lf6fde9wsspsdh6ph4jcsqpe9cjdhzky9g5as9",
      "symbol": "",
      "mint_restricted": true,
      "update_restricted": true,
      "description": "",
      "uri": "https://commercio.network",
      "uri_hash": "",
      "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:creator\":{\"value\":\"881205beeb4e7f18184481ee0c83e7410900cca2\"},\"irismod:description\":{\"value\":\"\"},\"irismod:mint_restricted\":{\"value\":true},\"irismod:name\":{\"value\":\"Commercio.Network NFT GoN\"},\"irismod:schema\":{\"value\":\"\"},\"irismod:symbol\":{\"value\":\"commnet_symbol\"},\"irismod:update_restricted\":{\"value\":true},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\"}"
    },
    "nfts": [
      {
        "id": "commNft008",
        "name": "",
        "uri": "https://drive.google.com/file/d/15jS1xl7p8dtPJNjolNeQDbHyoYwq8f_h/view?usp=sharing",
        "data": "{\"irismod:name\":{\"value\":\"Commercio.Network NFT for flow-a3\"},\"irismod:uri_hash\":{\"value\":\"\"}}",
        "owner": "uptick142rx4z4eqvu589a9xv2tchy5ugkql6c7lntzvu",
        "uri_hash": ""
      },
      {
        "id": "commNft010",
        "name": "",
        "uri": "https://drive.google.com/file/d/1lj4AvwTuaOgu5Qw-GdzYrZhZZNOj7UyI/view?usp=share_link",
        "data": "{\"community\":\"none\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:name\":{\"value\":\"Commercio.Network NFT for flow-a5\"},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\"}",
        "owner": "uptick1f9mc9659nljtfznv6p4rzuh0gxa6sz4xuj6zhn",
        "uri_hash": ""
      }
    ]
  },
  "pagination": {
    "next_key": null,
    "total": "0"
  }
}
```

### Uptick to Iris

```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_IRIS_CHANNEL_1 \
 $IRIS_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$UPTICK_CHAIN_ID" \
--node $UPTICK_RPC -y

# 8EE4260C8397D4AB66BDC2A5CAF8B1538CA494B385EA5BC923E3F2D82671E1B5

$UPTICK_BIN q tx 8EE4260C8397D4AB66BDC2A5CAF8B1538CA494B385EA5BC923E3F2D82671E1B5 --node $UPTICK_RPC 
```

Verifica

```bash

NFT_PATH=$(./echo_path.sh isjui)"commnet001"
HASH=$($IRIS_BIN q nft-transfer class-hash "$NFT_PATH" \
--node $IRIS_RPC --output json | jq -r ".hash")

# hash A16C600C15C4454EB8FAC9FABEC35E4FC3FB9AC20C6931A3B1DD9A9B9D4D9BA5

$IRIS_BIN q nft collection ibc/$HASH \
--node $IRIS_RPC --output json | jq '.'

```

```json
{
  "collection": {
    "denom": {
      "id": "ibc/A16C600C15C4454EB8FAC9FABEC35E4FC3FB9AC20C6931A3B1DD9A9B9D4D9BA5",
      "name": "Commercio.Network NFT GoN",
      "schema": "",
      "creator": "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq",
      "symbol": "commnet_symbol",
      "mint_restricted": true,
      "update_restricted": true,
      "description": "",
      "uri": "https://commercio.network",
      "uri_hash": "",
      "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"team_name\":\"Commercio.Network\",\"uptickd:creator\":{\"value\":\"fa7496e4ae840306df41bd658800392e24db8ac4\"},\"uptickd:description\":{\"value\":\"\"},\"uptickd:mint_restricted\":{\"value\":true},\"uptickd:name\":{\"value\":\"\"},\"uptickd:schema\":{\"value\":\"\"},\"uptickd:symbol\":{\"value\":\"\"},\"uptickd:update_restricted\":{\"value\":true},\"uptickd:uri_hash\":{\"value\":\"\"}}"
    },
    "nfts": [
      {
        "id": "commNft008",
        "name": "Commercio.Network NFT for flow-a3",
        "uri": "https://drive.google.com/file/d/15jS1xl7p8dtPJNjolNeQDbHyoYwq8f_h/view?usp=sharing",
        "data": "{\"uptickd:name\":{\"value\":\"\"},\"uptickd:uri_hash\":{\"value\":\"\"}}",
        "owner": "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq",
        "uri_hash": ""
      }
    ]
  },
  "pagination": {
    "next_key": null,
    "total": "0"
  }
}
```

## A10 Perform cross-chain NFT transfer as flow-a4 (CLOSE) (OK CHANNEL)
**i --(1)--> s --(1)--> o --(1)--> j --(1)--> i**


### Prepare

Test a new mint

```bash

NFT_ID="commNft009"

JSON_MINT='{"github_username": "marcotradenet","discord_handle": "MarcR#1797","team_name": "Commercio.Network","community": "none"}'

$IRIS_BIN tx nft mint commnet001 $NFT_ID \
--name "Commercio.Network NFT for flow-a4" \
--uri "https://drive.google.com/file/d/1OXU_sx5CAh71xxAIQhZI4t0XxxDAW_-0/view?usp=sharing" \
--uri-hash "" \
--data "$JSON_MINT" \
--recipient $IRIS_ADDRESS \
--gas auto \
--gas-adjustment 1.4 \
--fees 2000${IRIS_DENOM} \
--from GoN-Address \
--keyring-backend test \
--chain-id "$IRIS_CHAIN_ID" \
--node $IRIS_RPC -y

# C7EC8E9AB4C738AB5D65CEEDCD36F1A11B8EF5BBFBD4A2115FDBC40B6486DCD9
```

### Iris to Stargaze

```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$IRIS_CHAIN_ID" \
 --node $IRIS_RPC -y

# E87B9992E3A8AF035304B4F5C4F32D83B2F4CCC284B263D79861F57B565669F1
```

Verifica

```bash

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "wasm.'$STARGAZE_PORT'/'$STARGAZE_TO_IRIS_CHANNEL_1'/commnet001"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4

$STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq '.'
```

```json
{
  "data": {
    "access": {
      "owner": "stars13qfqt0htfel3sxzys8hqeql8gyyspn9zlgcllq",
      "approvals": []
    },
    "info": {
      "token_uri": "https://drive.google.com/file/d/1OXU_sx5CAh71xxAIQhZI4t0XxxDAW_-0/view?usp=sharing",
      "extension": {}
    }
  }
}
```


### Stargaze to Omniflix

```bash
MSG='{"receiver": "'$OMNIFLIX_ADDRESS'","channel_id":"'$STARGAZE_TO_OMNIFLIX_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y


# 104F0ACDDC1028E8B4E854C3D84641F0BBEFEAB763F1BFC9B8E70A0E692D70C9
```

Verifica

```bash
HASH=$($OMNIFLIX_BIN q nft-transfer class-hash "nft-transfer/${OMNIFLIX_TO_STARGAZE_CHANNEL_1}/wasm.${STARGAZE_PORT}/${STARGAZE_TO_IRIS_CHANNEL_1}/commnet001" --node $OMNIFLIX_RPC --output json | jq -r '.hash')

# hash F934EE5A903CA1FF103F0B9B9C0244CB3FA6E54CF9317892392CE049E1ABD8BA

$OMNIFLIX_BIN q onft collection ibc/$HASH \
--node $OMNIFLIX_RPC --output json | jq '.'

```

```json
{
  "denom": {
    "id": "ibc/F934EE5A903CA1FF103F0B9B9C0244CB3FA6E54CF9317892392CE049E1ABD8BA",
    "symbol": "",
    "name": "",
    "schema": "",
    "creator": "omniflix1zcpsseay358eu0mw6gdhdpx26q87mp7mx3ksgw",
    "description": "",
    "preview_uri": "",
    "uri": "https://commercio.network",
    "uri_hash": "",
    "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:creator\":{\"value\":\"881205beeb4e7f18184481ee0c83e7410900cca2\"},\"irismod:description\":{\"value\":\"\"},\"irismod:mint_restricted\":{\"value\":true},\"irismod:name\":{\"value\":\"Commercio.Network NFT GoN\"},\"irismod:schema\":{\"value\":\"\"},\"irismod:symbol\":{\"value\":\"commnet_symbol\"},\"irismod:update_restricted\":{\"value\":true},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\"}"
  },
  "onfts": [
    {
      "id": "commNft009",
      "metadata": {
        "name": "",
        "description": "",
        "media_uri": "https://drive.google.com/file/d/1OXU_sx5CAh71xxAIQhZI4t0XxxDAW_-0/view?usp=sharing",
        "preview_uri": "",
        "uri_hash": ""
      },
      "data": "{\"community\":\"none\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:name\":{\"value\":\"Commercio.Network NFT for flow-a4\"},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\"}",
      "owner": "omniflix13qfqt0htfel3sxzys8hqeql8gyyspn9zk27mr0",
      "transferable": true,
      "extensible": true,
      "created_at": "0001-01-01T00:00:00Z",
      "nsfw": false,
      "royalty_share": "0.000000000000000000"
    }
  ]
}

```


### Omniflix to Juno

```bash
$OMNIFLIX_BIN tx nft-transfer transfer \
 nft-transfer \
 $OMNIFLIX_TO_JUNO_CHANNEL_1 \
 $JUNO_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${OMNIFLIX_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$OMNIFLIX_CHAIN_ID" \
 --node $OMNIFLIX_RPC -y

# D0D030DB393A4ADD40EABBC53C2B0E0AEC8D090F9D6D91D49D885D8C164E0DB1

```

Varifica

```bash
HASH=$($JUNO_BIN q wasm contract-state smart \
$JUNO_PORT \
'{"nft_contract": {"class_id" : "wasm.'$JUNO_PORT'/'$JUNO_TO_OMNIFLIX_CHANNEL_1'/nft-transfer/'$OMNIFLIX_TO_STARGAZE_CHANNEL_1'/wasm.'$STARGAZE_PORT'/'$STARGAZE_TO_IRIS_CHANNEL_1'/commnet001"}}' \
--node $JUNO_RPC --output json | jq -r '.data')

# data juno1hpaj6q0ujxx2mtfjmzsjayeal8vc59np86wf3mjwt2svkmrmu3cqav4syd

$JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq '.'


```

```json
{
  "data": {
    "access": {
      "owner": "juno13qfqt0htfel3sxzys8hqeql8gyyspn9zaxvend",
      "approvals": []
    },
    "info": {
      "token_uri": "https://drive.google.com/file/d/1OXU_sx5CAh71xxAIQhZI4t0XxxDAW_-0/view?usp=sharing",
      "extension": {}
    }
  }
}
```

### Juno to Iris

```bash
MSG='{"receiver": "'$IRIS_ADDRESS'","channel_id":"'$JUNO_TO_IRIS_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'


$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
 --node $JUNO_RPC -y

# 2EB2F355D702B56A53EFBA26B19120C51B7DC59F0C04402B2EB18BBAD83226BB
```

Verifica

```bash
HASH=$($IRIS_BIN q nft-transfer class-hash "nft-transfer/$IRIS_TO_JUNO_CHANNEL_1/wasm.$JUNO_PORT/$JUNO_TO_OMNIFLIX_CHANNEL_1/nft-transfer/$OMNIFLIX_TO_STARGAZE_CHANNEL_1/wasm.$STARGAZE_PORT/$STARGAZE_TO_IRIS_CHANNEL_1/commnet001" \
--node $IRIS_RPC --output json | jq -r ".hash")




# hash C1B856C56A47C2285A114178C68C0B12B16DE2820C5266F256EA694F81EC9B78

$IRIS_BIN q nft collection ibc/$HASH \
--node $IRIS_RPC --output json | jq '.'

```

```json
{
  "collection": {
    "denom": {
      "id": "ibc/C1B856C56A47C2285A114178C68C0B12B16DE2820C5266F256EA694F81EC9B78",
      "name": "Commercio.Network NFT GoN",
      "schema": "",
      "creator": "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq",
      "symbol": "commnet_symbol",
      "mint_restricted": true,
      "update_restricted": true,
      "description": "",
      "uri": "https://commercio.network",
      "uri_hash": "",
      "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"omniflix:creator\":{\"value\":\"16030867a48d0f9e3f6ed21b7684cad00fed87db\"},\"omniflix:description\":{\"value\":\"\"},\"omniflix:name\":{\"value\":\"\"},\"omniflix:preview_uri\":{\"value\":\"\"},\"omniflix:schema\":{\"value\":\"\"},\"omniflix:symbol\":{\"value\":\"\"},\"omniflix:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\"}"
    },
    "nfts": [
      {
        "id": "commNft009",
        "name": "Commercio.Network NFT for flow-a4",
        "uri": "https://drive.google.com/file/d/1OXU_sx5CAh71xxAIQhZI4t0XxxDAW_-0/view?usp=sharing",
        "data": "{\"community\":\"none\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"omniflix:created_at\":{\"value\":\"0001-01-01T00:00:00Z\"},\"omniflix:description\":{\"value\":\"\"},\"omniflix:extensible\":{\"value\":true},\"omniflix:name\":{\"value\":\"\"},\"omniflix:nsfw\":{\"value\":false},\"omniflix:preview_uri\":{\"value\":\"\"},\"omniflix:royalty_share\":{\"value\":\"0.000000000000000000\"},\"omniflix:transferable\":{\"value\":true},\"omniflix:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\"}",
        "owner": "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq",
        "uri_hash": ""
      }
    ]
  },
  "pagination": {
    "next_key": null,
    "total": "0"
  }
}
```


## A11 Perform cross-chain NFT transfer as flow-a5 (CLOSE) (OK CHANNEL)
**i --(1)--> s --(1)--> j --(1)--> u --(1)--> o --(1)--> s --(1)--> i**

### Prepare

Test a new mint

```bash

NFT_ID="commNft010"

JSON_MINT='{"github_username": "marcotradenet","discord_handle": "MarcR#1797","team_name": "Commercio.Network","community": "none"}'

$IRIS_BIN tx nft mint commnet001 $NFT_ID \
--name "Commercio.Network NFT for flow-a5" \
--uri "https://drive.google.com/file/d/1lj4AvwTuaOgu5Qw-GdzYrZhZZNOj7UyI/view?usp=share_link" \
--uri-hash "" \
--data "$JSON_MINT" \
--recipient $IRIS_ADDRESS \
--gas auto \
--gas-adjustment 1.4 \
--fees 2000${IRIS_DENOM} \
--from GoN-Address \
--keyring-backend test \
--chain-id "$IRIS_CHAIN_ID" \
--node $IRIS_RPC -y

# CDF91A731FF407942AE978DB15B7846911C47D41A5076164A825B23A0B378684
```

### Iris to Stargaze
```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$IRIS_CHAIN_ID" \
 --node $IRIS_RPC -y

# 27CDB08EE533189AC664069D67134DB9675F7871EF03B721F62F7FA2F7FA60D4
```
Verifica

```bash

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "wasm.'$STARGAZE_PORT'/'$STARGAZE_TO_IRIS_CHANNEL_1'/commnet001"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4

$STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq '.'
```

```json
{
  "data": {
    "access": {
      "owner": "stars13qfqt0htfel3sxzys8hqeql8gyyspn9zlgcllq",
      "approvals": []
    },
    "info": {
      "token_uri": "https://drive.google.com/file/d/1lj4AvwTuaOgu5Qw-GdzYrZhZZNOj7UyI/view?usp=share_link",
      "extension": {}
    }
  }
}
```

### Stargaze to Juno

```bash
MSG='{"receiver": "'$JUNO_ADDRESS'","channel_id":"'$STARGAZE_TO_JUNO_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y


# 198BEF597D27A19C53A884135EF7478EC42BEE1C5F10DD8816141FCE46FD7178
```

Verifica 

```bash
HASH=$($JUNO_BIN q wasm contract-state smart $JUNO_PORT \
'{"nft_contract": {"class_id" : "wasm.'$JUNO_PORT'/'$JUNO_TO_STARGAZE_CHANNEL_1'/wasm.'$STARGAZE_PORT'/'$STARGAZE_TO_IRIS_CHANNEL_1'/commnet001"}}' --node $JUNO_RPC --output json | jq -r '.data')

# data juno1qyflw42e6mc06pjlcmx5am8y7ljk899rqjc0yxtvr6af0apzflks8tpmhs

$JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq '.'
```

```json
{
  "data": {
    "access": {
      "owner": "juno13qfqt0htfel3sxzys8hqeql8gyyspn9zaxvend",
      "approvals": []
    },
    "info": {
      "token_uri": "https://drive.google.com/file/d/1lj4AvwTuaOgu5Qw-GdzYrZhZZNOj7UyI/view?usp=share_link",
      "extension": {}
    }
  }
}
```


### Juno to Uptick

```bash
MSG='{"receiver": "'$UPTICK_ADDRESS'","channel_id":"'$JUNO_TO_UPTICK_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
--node $JUNO_RPC -y

# AC1A0F553465F754480B54286424723C877725C620C87FE7E8CB3AA4B7FF04AF

```

Verifica

```bash
HASH=$($UPTICK_BIN q nft-transfer class-hash "nft-transfer/$UPTICK_TO_JUNO_CHANNEL_1/wasm.$JUNO_PORT/$JUNO_TO_STARGAZE_CHANNEL_1/wasm.$STARGAZE_PORT/$STARGAZE_TO_IRIS_CHANNEL_1/commnet001" --node $UPTICK_RPC --output json | jq -r '.hash')

# hash 9F0ACDD95C8E851A3DE78AC683E6C570AD7D3B508C53C30FCFD58ED6F4559E46


$UPTICK_BIN q collection collection ibc/$HASH  --node $UPTICK_RPC -o json | jq  '.'
```

```json
{
  "collection": {
    "denom": {
      "id": "ibc/9F0ACDD95C8E851A3DE78AC683E6C570AD7D3B508C53C30FCFD58ED6F4559E46",
      "name": "",
      "schema": "",
      "creator": "uptick1lf6fde9wsspsdh6ph4jcsqpe9cjdhzky9g5as9",
      "symbol": "",
      "mint_restricted": true,
      "update_restricted": true,
      "description": "",
      "uri": "https://commercio.network",
      "uri_hash": "",
      "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:creator\":{\"value\":\"881205beeb4e7f18184481ee0c83e7410900cca2\"},\"irismod:description\":{\"value\":\"\"},\"irismod:mint_restricted\":{\"value\":true},\"irismod:name\":{\"value\":\"Commercio.Network NFT GoN\"},\"irismod:schema\":{\"value\":\"\"},\"irismod:symbol\":{\"value\":\"commnet_symbol\"},\"irismod:update_restricted\":{\"value\":true},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\"}"
    },
    "nfts": [
      {
        "id": "commNft008",
        "name": "",
        "uri": "https://drive.google.com/file/d/15jS1xl7p8dtPJNjolNeQDbHyoYwq8f_h/view?usp=sharing",
        "data": "{\"irismod:name\":{\"value\":\"Commercio.Network NFT for flow-a3\"},\"irismod:uri_hash\":{\"value\":\"\"}}",
        "owner": "uptick142rx4z4eqvu589a9xv2tchy5ugkql6c7lntzvu",
        "uri_hash": ""
      },
      {
        "id": "commNft010",
        "name": "",
        "uri": "https://drive.google.com/file/d/1lj4AvwTuaOgu5Qw-GdzYrZhZZNOj7UyI/view?usp=share_link",
        "data": "{\"community\":\"none\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:name\":{\"value\":\"Commercio.Network NFT for flow-a5\"},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\"}",
        "owner": "uptick142rx4z4eqvu589a9xv2tchy5ugkql6c7lntzvu",
        "uri_hash": ""
      }
    ]
  },
  "pagination": {
    "next_key": null,
    "total": "0"
  }
}
```

### Uptick to Omniflix

```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_OMNIFLIX_CHANNEL_1 \
 $OMNIFLIX_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$UPTICK_CHAIN_ID" \
--node $UPTICK_RPC -y

# E6E6BD8D9700F9A6262F71E9F25D5BE35BC52A1981F41E9F7266141DD301A560

$UPTICK_BIN q tx E6E6BD8D9700F9A6262F71E9F25D5BE35BC52A1981F41E9F7266141DD301A560 --node $UPTICK_RPC 

```

Verifica


```bash

HASH=$($OMNIFLIX_BIN query nft-transfer class-hash \
"nft-transfer/$OMNIFLIX_TO_UPTICK_CHANNEL_1/nft-transfer/$UPTICK_TO_JUNO_CHANNEL_1/wasm.$JUNO_PORT/$JUNO_TO_STARGAZE_CHANNEL_1/wasm.$STARGAZE_PORT/$STARGAZE_TO_IRIS_CHANNEL_1/commnet001" \
--node $OMNIFLIX_RPC --output json | jq -r '.hash')

# hash 5F19DFAFC14E288187DA4A542B4000617CFE263609CFDAD35C9F12DE1DFD7188


$OMNIFLIX_BIN query onft collection \
ibc/$HASH \
--node $OMNIFLIX_RPC -o json | jq '.'
```

```json
{
  "denom": {
    "id": "ibc/5F19DFAFC14E288187DA4A542B4000617CFE263609CFDAD35C9F12DE1DFD7188",
    "symbol": "",
    "name": "",
    "schema": "",
    "creator": "omniflix1zcpsseay358eu0mw6gdhdpx26q87mp7mx3ksgw",
    "description": "",
    "preview_uri": "",
    "uri": "https://commercio.network",
    "uri_hash": "",
    "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:creator\":{\"value\":\"881205beeb4e7f18184481ee0c83e7410900cca2\"},\"irismod:description\":{\"value\":\"\"},\"irismod:mint_restricted\":{\"value\":true},\"irismod:name\":{\"value\":\"Commercio.Network NFT GoN\"},\"irismod:schema\":{\"value\":\"\"},\"irismod:symbol\":{\"value\":\"commnet_symbol\"},\"irismod:update_restricted\":{\"value\":true},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\",\"uptickd:creator\":{\"value\":\"fa7496e4ae840306df41bd658800392e24db8ac4\"},\"uptickd:description\":{\"value\":\"\"},\"uptickd:mint_restricted\":{\"value\":true},\"uptickd:name\":{\"value\":\"\"},\"uptickd:schema\":{\"value\":\"\"},\"uptickd:symbol\":{\"value\":\"\"},\"uptickd:update_restricted\":{\"value\":true},\"uptickd:uri_hash\":{\"value\":\"\"}}"
  },
  "onfts": [
    {
      "id": "commNft010",
      "metadata": {
        "name": "",
        "description": "",
        "media_uri": "https://drive.google.com/file/d/1lj4AvwTuaOgu5Qw-GdzYrZhZZNOj7UyI/view?usp=share_link",
        "preview_uri": "",
        "uri_hash": ""
      },
      "data": "{\"community\":\"none\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"irismod:name\":{\"value\":\"Commercio.Network NFT for flow-a5\"},\"irismod:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\",\"uptickd:name\":{\"value\":\"\"},\"uptickd:uri_hash\":{\"value\":\"\"}}",
      "owner": "omniflix13qfqt0htfel3sxzys8hqeql8gyyspn9zk27mr0",
      "transferable": true,
      "extensible": true,
      "created_at": "0001-01-01T00:00:00Z",
      "nsfw": false,
      "royalty_share": "0.000000000000000000"
    }
  ]
}
```


### Omniflix to Stargaze


```bash
$OMNIFLIX_BIN tx nft-transfer transfer \
 nft-transfer \
 $OMNIFLIX_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${OMNIFLIX_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$OMNIFLIX_CHAIN_ID" \
 --node $OMNIFLIX_RPC -y


# AA04BEEC93BE368B247EB01CB71C0DF67BB2FD6F2FC096AEC2A021A723D3246D

```

Verifica

```bash
HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "wasm.'$STARGAZE_PORT'/'$STARGAZE_TO_OMNIFLIX_CHANNEL_1'/nft-transfer/'$OMNIFLIX_TO_UPTICK_CHANNEL_1'/nft-transfer/'$UPTICK_TO_JUNO_CHANNEL_1'/wasm.'$JUNO_PORT'/'$JUNO_TO_STARGAZE_CHANNEL_1'/wasm.'$STARGAZE_PORT'/'$STARGAZE_TO_IRIS_CHANNEL_1'/commnet001"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')



# data stars1nx58efv2dhccvgxstxrmqne7mj2cdnmpcj0eh8cqneacktapyvjshnlg4n


$STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq '.'
```

```json
{
  "data": {
    "access": {
      "owner": "stars13qfqt0htfel3sxzys8hqeql8gyyspn9zlgcllq",
      "approvals": []
    },
    "info": {
      "token_uri": "https://drive.google.com/file/d/1lj4AvwTuaOgu5Qw-GdzYrZhZZNOj7UyI/view?usp=share_link",
      "extension": {}
    }
  }
}
```


### Stargaze to Iris
```bash
MSG='{"receiver": "'$IRIS_ADDRESS'","channel_id":"'$STARGAZE_TO_IRIS_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y


# 6693DF68F45BEC63510341B1C077DDF1C50866B4BBC5A00A7DD59ACA9843BB4E
```

Verifica
```bash


HASH=$($IRIS_BIN q nft-transfer class-hash "nft-transfer/$IRIS_TO_STARGAZE_CHANNEL_1/wasm.$STARGAZE_PORT/$STARGAZE_TO_OMNIFLIX_CHANNEL_1/nft-transfer/$OMNIFLIX_TO_UPTICK_CHANNEL_1/nft-transfer/$UPTICK_TO_JUNO_CHANNEL_1/wasm.$JUNO_PORT/$JUNO_TO_STARGAZE_CHANNEL_1/wasm.$STARGAZE_PORT/$STARGAZE_TO_IRIS_CHANNEL_1/commnet001" --node $IRIS_RPC --output json | jq -r ".hash")

# hash 1EA2F61BB054793F05F1D684476FBB3EFD22450F355E4885988AB6923ABFCC51


$IRIS_BIN q nft collection ibc/$HASH \
--node $IRIS_RPC --output json | jq '.'
```

```json
{
  "collection": {
    "denom": {
      "id": "ibc/1EA2F61BB054793F05F1D684476FBB3EFD22450F355E4885988AB6923ABFCC51",
      "name": "Commercio.Network NFT GoN",
      "schema": "",
      "creator": "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq",
      "symbol": "commnet_symbol",
      "mint_restricted": true,
      "update_restricted": true,
      "description": "",
      "uri": "https://commercio.network",
      "uri_hash": "",
      "data": "{\"community\":\"\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"omniflix:creator\":{\"value\":\"16030867a48d0f9e3f6ed21b7684cad00fed87db\"},\"omniflix:description\":{\"value\":\"\"},\"omniflix:name\":{\"value\":\"\"},\"omniflix:preview_uri\":{\"value\":\"\"},\"omniflix:schema\":{\"value\":\"\"},\"omniflix:symbol\":{\"value\":\"\"},\"omniflix:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\",\"uptickd:creator\":{\"value\":\"fa7496e4ae840306df41bd658800392e24db8ac4\"},\"uptickd:description\":{\"value\":\"\"},\"uptickd:mint_restricted\":{\"value\":true},\"uptickd:name\":{\"value\":\"\"},\"uptickd:schema\":{\"value\":\"\"},\"uptickd:symbol\":{\"value\":\"\"},\"uptickd:update_restricted\":{\"value\":true},\"uptickd:uri_hash\":{\"value\":\"\"}}"
    },
    "nfts": [
      {
        "id": "commNft010",
        "name": "Commercio.Network NFT for flow-a5",
        "uri": "https://drive.google.com/file/d/1lj4AvwTuaOgu5Qw-GdzYrZhZZNOj7UyI/view?usp=share_link",
        "data": "{\"community\":\"none\",\"discord_handle\":\"MarcR#1797\",\"github_username\":\"marcotradenet\",\"omniflix:created_at\":{\"value\":\"0001-01-01T00:00:00Z\"},\"omniflix:description\":{\"value\":\"\"},\"omniflix:extensible\":{\"value\":true},\"omniflix:name\":{\"value\":\"\"},\"omniflix:nsfw\":{\"value\":false},\"omniflix:preview_uri\":{\"value\":\"\"},\"omniflix:royalty_share\":{\"value\":\"0.000000000000000000\"},\"omniflix:transferable\":{\"value\":true},\"omniflix:uri_hash\":{\"value\":\"\"},\"team_name\":\"Commercio.Network\",\"uptickd:name\":{\"value\":\"\"},\"uptickd:uri_hash\":{\"value\":\"\"}}",
        "owner": "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq",
        "uri_hash": ""
      }
    ]
  },
  "pagination": {
    "next_key": null,
    "total": "0"
  }
}
```

## A12 Perform cross-chain NFT transfer as flow-a6 (CLOSE) (OK CHANNEL)
**i --(1)--> o --(1)--> s --(1)--> u --(1)--> o --(1)--> j --(1)--> i**

### Prepare

Test a new mint

```bash

NFT_ID="commNft026"
./mint.sh $NFT_ID  "https://ipfs.io/ipfs/QmSnXAWLPeeSkSZdTwg21V2XteEoFLSNPXNE1YKGuEu38g" "flow-a6"

# 508572AB308E54197CAE6A69A4A48B6D4FD4417B564CF9C395D25E4D523A7858

```

### Iris to Omniflix

```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_OMNIFLIX_CHANNEL_1 \
 $OMNIFLIX_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$IRIS_CHAIN_ID" \
--node $IRIS_RPC -y

# 864BB6380A2BED072846D09FBEEF8143D38AB9F85235BD29058A957BDDC8285E

```

Verifica

```bash
NFT_PATH=$(./echo_path.sh io)"commnet001"

HASH=$($OMNIFLIX_BIN query nft-transfer class-hash \
"$NFT_PATH" \
--node $OMNIFLIX_RPC --output json | jq -r '.hash')

# hash E37D135E8DEA31A256A9DD8EA139B83AFE07BC2E0184070148A019D5CE494300


NFT_OWNER=$($OMNIFLIX_BIN query onft asset \
ibc/$HASH $NFT_ID \
--node $OMNIFLIX_RPC -o json | jq -r '.owner')

if [ "$NFT_OWNER" = "$OMNIFLIX_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Omniflix to Stargaze

```bash
$OMNIFLIX_BIN tx nft-transfer transfer \
 nft-transfer \
 $OMNIFLIX_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${OMNIFLIX_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$OMNIFLIX_CHAIN_ID" \
 --node $OMNIFLIX_RPC -y


# A926C3D138D8BB977C085C3FC3EA2B23F5E553B97879973F881F82B94E2459C5
```


Verifica

```bash

NFT_PATH=$(./echo_path.sh ios)"commnet001"

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "'$NFT_PATH'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')



# data stars1vg0vzm265z9kj903c69wn6274cggy3kd0crekacr5vlz07pactfs6x45aw


NFT_OWNER=$($STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$STARGAZE_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Stargaze to Uptick

```bash
MSG='{"receiver": "'$UPTICK_ADDRESS'","channel_id":"'$STARGAZE_TO_UPTICK_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y


# 9C37F4295530971A2CF038AC3AE3DEC3C82B845235A526D8589E974B73343E44
```

Verifica


```bash
NFT_PATH=$(./echo_path.sh iosu)"commnet001"

HASH=$($UPTICK_BIN q nft-transfer class-hash "$NFT_PATH" --node $UPTICK_RPC --output json | jq -r '.hash')

# hash 349FA052B7A77C71AE2C55C4D78113F184396A59DC082CD54C43FE61161B92A1

NFT_OWNER=$($UPTICK_BIN q collection collection ibc/$HASH  --node $UPTICK_RPC -o json | jq -r '.collection.nfts[] | select(.id=="'$NFT_ID'") | .owner')

if [ "$NFT_OWNER" = "$UPTICK_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Uptick to Omniflix

```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_OMNIFLIX_CHANNEL_1 \
 $OMNIFLIX_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$UPTICK_CHAIN_ID" \
--node $UPTICK_RPC -y

# 9F2F14B804563BC449BCEBAB67115F5AE96DDBC58A06ADEC41CC6AFAECD049CA

$UPTICK_BIN q tx 9F2F14B804563BC449BCEBAB67115F5AE96DDBC58A06ADEC41CC6AFAECD049CA --node $UPTICK_RPC 

```

Verifica


```bash
NFT_PATH=$(./echo_path.sh iosuo)"commnet001"

HASH=$($OMNIFLIX_BIN query nft-transfer class-hash \
"$NFT_PATH" \
--node $OMNIFLIX_RPC --output json | jq -r '.hash')

# hash E12A1827BC3280B5663FDE60DEACDAA73438B26F97A184B119144F87078569B1


NFT_OWNER=$($OMNIFLIX_BIN query onft asset \
ibc/$HASH $NFT_ID \
--node $OMNIFLIX_RPC -o json | jq -r '.owner')

if [ "$NFT_OWNER" = "$OMNIFLIX_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Omniflix to Juno

```bash
$OMNIFLIX_BIN tx nft-transfer transfer \
 nft-transfer \
 $OMNIFLIX_TO_JUNO_CHANNEL_1 \
 $JUNO_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${OMNIFLIX_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$OMNIFLIX_CHAIN_ID" \
 --node $OMNIFLIX_RPC -y

# 6BD9436F2201F4D315398316FA1CB4A24CF5682D1A01EED2F4D0BC69B694E695

```


Varifica

```bash
NFT_PATH=$(./echo_path.sh iosuoj)"commnet001"

HASH=$($JUNO_BIN q wasm contract-state smart \
$JUNO_PORT \
'{"nft_contract": {"class_id" : "'$NFT_PATH'"}}' \
--node $JUNO_RPC --output json | jq -r '.data')

# data juno14slqtmhanttupjmaryfcmerl90672jc7pfwzdjmwlj9x9amlx3aqg4c2ty

NFT_OWNER=$($JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$JUNO_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Juno to Iris
```bash
MSG='{"receiver": "'$IRIS_ADDRESS'","channel_id":"'$JUNO_TO_IRIS_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'


$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
 --node $JUNO_RPC -y

# 79785BD293D05096D0CDB744395BEA8732658EC2844C8703064B36BF7842BD2C

```

Verifica

```bash

NFT_PATH=$(./echo_path.sh iosuoji)"commnet001"


HASH=$($IRIS_BIN q nft-transfer class-hash "$NFT_PATH" \
--node $IRIS_RPC --output json | jq -r ".hash")

# hash 902F39D20CBE4C23CBB1C4D4017BAFA0C27765C817EE818F12C56F8E5F72FAC7


NFT_OWNER=$($IRIS_BIN q nft token ibc/$HASH $NFT_ID --node $IRIS_RPC --output json | jq -r '.owner')

if [ "$NFT_OWNER" = "$IRIS_ADDRESS" ]; then echo "OK"; fi
# OK
```

## A13 Perform cross-chain NFT transfer as flow-b1 (CLOSE) (OK CHANNEL)
**Transfer in a revisit style.**

**i --(1)--> s --(1)--> u --(1)--> s --(2)--> i**

### Prepare
```bash


NFT_ID="commNft019"
./mint.sh $NFT_ID https://ipfs.io/ipfs/QmP1zASybJcn5MSVgAsyNEQUStmpLbB3jvsymbihE55anD "flow-b1"

# 78C7DDCC8042631BB9A22BE8028739314E171A1CC50E6688C778FF6BBA76EBF3


```


### Iris to Stargaze (1)

```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$IRIS_CHAIN_ID" \
 --node $IRIS_RPC -y

# 6A282AE60228E2404D67A784F19B9EF98AEFBA643BF9706D605CB0FF04FB7BEC
```
Verifica

```bash

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh is)"commnet001"'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4

NFT_OWNER=$($STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$STARGAZE_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Stargaze to Uptick (1)

```bash
MSG='{"receiver": "'$UPTICK_ADDRESS'","channel_id":"'$STARGAZE_TO_UPTICK_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y


# 8A1AE62449CEAA1D81AE1E52E70B76E9A31AA70AB34B7E1F0377E24BFC44E244
```

Verifica


```bash
NFT_PATH=

HASH=$($UPTICK_BIN q nft-transfer class-hash "$(./echo_path.sh isu)commnet001" --node $UPTICK_RPC --output json | jq -r '.hash')

# hash 9C81E2F8F10E5177A3A546D118F43BBEE57F7B90363B445545EF0FB107F320F4

NFT_OWNER=$($UPTICK_BIN q collection collection ibc/$HASH  --node $UPTICK_RPC -o json | jq -r '.collection.nfts[] | select(.id=="'$NFT_ID'") | .owner')

if [ "$NFT_OWNER" = "$UPTICK_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Uptick to Stargaze (1)

```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$UPTICK_CHAIN_ID" \
--node $UPTICK_RPC -y

# 007E40C89C81C9DD554973728381EEFCB51333EDB7FD7B48BE50C20889A1685D

$UPTICK_BIN q tx 007E40C89C81C9DD554973728381EEFCB51333EDB7FD7B48BE50C20889A1685D --node $UPTICK_RPC 
```

Verifica

```bash
NFT_PATH=$(./echo_path.sh isus)"commnet001"

# SEMBRA CHE SE FACCIO UNA CHAIN X -> A -> B -> A IL CONTRATTO TORNI NEL PATH NELLA CHAIN A GENERATO DA X -> A

NFT_PATH=$(./echo_path.sh is)"commnet001"


HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "'$NFT_PATH'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4

NFT_OWNER=$($STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$STARGAZE_ADDRESS" ]; then echo "OK"; fi
# OK

```


### Stargaze to Iris (2)

```bash
MSG='{"receiver": "'$IRIS_ADDRESS'","channel_id":"'$STARGAZE_TO_IRIS_CHANNEL_2'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y

# 249FD25CDCA7840C622BFF1F57A4188B06907552EAC85EAE09ADE9F807C3EC3F
```

Verifica QUI NON SI TROVA L'NFT
```bash

NFT_PATH=$(./echo_path.sh is)"commnet001"
SEG="nft-transfer/$IRIS_TO_STARGAZE_CHANNEL_2"
NFT_PATH="$SEG/$NFT_PATH"
HASH=$($IRIS_BIN q nft-transfer class-hash "$NFT_PATH" --node $IRIS_RPC --output json | jq -r ".hash")

# 486085C3FE5B467987F4ACB0330A4066B9B35F515159EAE24EA54C05E55A614E

NFT_OWNER=$($IRIS_BIN q nft token ibc/$HASH $NFT_ID --node $IRIS_RPC --output json | jq -r '.owner')
if [ "$NFT_OWNER" = "$IRIS_ADDRESS" ]; then echo "OK"; fi
# OK
```



## A14 Perform cross-chain NFT transfer as flow-b2 (CLOSE) (OK CHANNEL)

**i --(1)--> u --(1)--> o --(1)--> u --(2)--> i**

### Prepare

```bash
# =====================================
NFT_ID="commNft020"
./mint.sh $NFT_ID  "https://ipfs.io/ipfs/QmUacch5Fnx1HEYM3syVobn3fDHH1EPrw8MfxjxT9u6Eew" "flow-b2"

# 158B30342C2704D79058BAB2695F6698AE7E5ED5B79E7206A2F1FEAB16BBA002
```

### Iris to Uptick (1)

```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_UPTICK_CHANNEL_1 \
 $UPTICK_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$IRIS_CHAIN_ID" \
--node $IRIS_RPC -y

# 7CCAE6269F04CFBD070D987E27D8888EBC1CD3416B7AA43ADAEC8DF3BB961638

```

Verifica

```bash
NFT_PATH=$(./echo_path.sh iu)"commnet001"

HASH=$($UPTICK_BIN query nft-transfer class-hash \
"$NFT_PATH" \
--node $UPTICK_RPC --output json | jq -r '.hash')

# hash EFAF63750C0C9DFA450EC2AA3377F32CF7398888436F8412DC127C4236FAAB7B

NFT_OWNER=$($UPTICK_BIN q collection collection ibc/$HASH  --node $UPTICK_RPC -o json | jq -r '.collection.nfts[] | select(.id=="'$NFT_ID'") | .owner')

if [ "$NFT_OWNER" = "$UPTICK_ADDRESS" ]; then echo "OK"; fi
#OK

$UPTICK_BIN query collection collection \
ibc/$HASH \
--node $UPTICK_RPC -o json | jq '.'
```


### Uptick to Omniflix (1)

```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_OMNIFLIX_CHANNEL_1 \
 $OMNIFLIX_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$UPTICK_CHAIN_ID" \
--node $UPTICK_RPC -y

# 7D73134FCB0F4D97855A017482F30B09D6B83B9A948A0538229867CF474E3255

$UPTICK_BIN q tx 7D73134FCB0F4D97855A017482F30B09D6B83B9A948A0538229867CF474E3255 --node $UPTICK_RPC 

```

Verifica


```bash
NFT_PATH=$(./echo_path.sh iuo)"commnet001"

HASH=$($OMNIFLIX_BIN query nft-transfer class-hash \
"$NFT_PATH" \
--node $OMNIFLIX_RPC --output json | jq -r '.hash')

# hash 156A44E19C2E8D2F655F1F84FF1256933814E53D04B88DB0E48C8BE7863E228C


NFT_OWNER=$($OMNIFLIX_BIN query onft asset \
ibc/$HASH $NFT_ID \
--node $OMNIFLIX_RPC -o json | jq -r '.owner')

if [ "$NFT_OWNER" = "$OMNIFLIX_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Omniflix to Uptick (1) 

```bash
$OMNIFLIX_BIN tx nft-transfer transfer \
 nft-transfer \
 $OMNIFLIX_TO_UPTICK_CHANNEL_1 \
 $UPTICK_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${OMNIFLIX_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$OMNIFLIX_CHAIN_ID" \
--node $OMNIFLIX_RPC -y

# 0C111D5E10C9D4E88AD1B3CD20B3A83058C67015FF8D04ECAC8FA581789E9FFA

```

Verifica

```bash
NFT_PATH=$(./echo_path.sh iu)"commnet001"

HASH=$($UPTICK_BIN query nft-transfer class-hash \
"$NFT_PATH" \
--node $UPTICK_RPC --output json | jq -r '.hash')

# hash EFAF63750C0C9DFA450EC2AA3377F32CF7398888436F8412DC127C4236FAAB7B

NFT_OWNER=$($UPTICK_BIN q collection collection ibc/$HASH  --node $UPTICK_RPC -o json | jq -r '.collection.nfts[] | select(.id=="'$NFT_ID'") | .owner')

if [ "$NFT_OWNER" = "$UPTICK_ADDRESS" ]; then echo "OK"; fi
#OK
```


### Uptick to Iris (2) <

```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_IRIS_CHANNEL_2 \
 $IRIS_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$UPTICK_CHAIN_ID" \
 --node $UPTICK_RPC -y

# 1BA4F7A4D36739B7E8DFD012F96A5C6241FFB2B6D2758B1F562E77885536DDA9

$UPTICK_BIN q tx 1BA4F7A4D36739B7E8DFD012F96A5C6241FFB2B6D2758B1F562E77885536DDA9 --node $UPTICK_RPC 
```


Verifica

```bash
NFT_PATH=$(./echo_path.sh iu)"commnet001"
SEG="nft-transfer/$IRIS_TO_UPTICK_CHANNEL_2"
NFT_PATH="$SEG/$NFT_PATH"

HASH=$($IRIS_BIN q nft-transfer class-hash "$NFT_PATH" --node $IRIS_RPC --output json | jq -r ".hash")

# hash 8BBE63F51E1B2D4A546063DA19CC224130B32FA6BFDC5F7E15520FC3DED13774

NFT_OWNER=$($IRIS_BIN q nft token ibc/$HASH $NFT_ID --node $IRIS_RPC --output json | jq -r '.owner')

# "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq"
if [ "$NFT_OWNER" = "$IRIS_ADDRESS" ]; then echo "OK"; fi
# OK
```


## A15 Perform cross-chain NFT transfer as flow-b3 (CLOSE) (OK CHANNEL)

**i --(1)--> j --(1)--> u --(1)--> j --(2)--> i**

### Prepare

```bash
# =====================================
NFT_ID="commNft022"
./mint.sh $NFT_ID  "https://ipfs.io/ipfs/QmbVvAg4wmaNXUu3xzNb8jifnFQ3P4Z3Yyrv2z8Ykkbx95" "flow-b3"

# FACDDCE94CE32778E479224EB64062DA84D849D5E0BE7B7494548B1EB73B17AC
```

### Iris to Juno (1)
```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_JUNO_CHANNEL_1 \
 $JUNO_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$IRIS_CHAIN_ID" \
 --node $IRIS_RPC -y

# 48FC1D06747829EC2CFAF06CF388AFA37815EC53A9784D4535D1F810810D291D
```

Verifica

```bash


HASH=$($JUNO_BIN q wasm contract-state smart \
$JUNO_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh ij)"commnet001"'"}}' \
--node $JUNO_RPC --output json | jq -r '.data')

# data juno18tyutq4scpyk9j0u2e0vrpzukrnqv4sc9gu3l9f6tw4lh3674qjqj5ruzc

NFT_OWNER=$($JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$JUNO_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Juno to Uptick (1)
```bash
MSG='{"receiver": "'$UPTICK_ADDRESS'","channel_id":"'$JUNO_TO_UPTICK_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
 --node $JUNO_RPC -y

# 65E1B2A23C3037C3B0AD31BF7BA0C0629649F429076B3405DDB2F7BC0C054B9D

```
Verifica

```bash

HASH=$($UPTICK_BIN q nft-transfer class-hash "$(./echo_path.sh iju)commnet001" \
--node $UPTICK_RPC --output json | jq -r '.hash')

# hash 3A81E3EA020ABA7A36E13ECDA756165227F2D6CC3BE119DDE15BE611FD58627D

NFT_OWNER=$($UPTICK_BIN q collection collection ibc/$HASH  --node $UPTICK_RPC -o json | jq -r '.collection.nfts[] | select(.id=="'$NFT_ID'") | .owner')

if [ "$NFT_OWNER" = "$UPTICK_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Uptick to Juno (1)


```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_JUNO_CHANNEL_1 \
 $JUNO_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$UPTICK_CHAIN_ID" \
--node $UPTICK_RPC -y

# E59B266ED5A3FDC8C3052E3AEA9FFB6D6AA8F714877C3C91FA3FD3FD73E39E8C


$UPTICK_BIN q tx E59B266ED5A3FDC8C3052E3AEA9FFB6D6AA8F714877C3C91FA3FD3FD73E39E8C --node $UPTICK_RPC

```

Verifica

```bash

HASH=$($JUNO_BIN q wasm contract-state smart $JUNO_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh ij)"commnet001"'"}}' --node $JUNO_RPC --output json | jq -r '.data')

# juno18tyutq4scpyk9j0u2e0vrpzukrnqv4sc9gu3l9f6tw4lh3674qjqj5ruzc

NFT_OWNER=$($JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$JUNO_ADDRESS" ]; then echo "OK"; fi
# OK

```

### Juno to Iris (2)

```bash
MSG='{"receiver": "'$IRIS_ADDRESS'","channel_id":"'$JUNO_TO_IRIS_CHANNEL_2'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'


$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
 --node $JUNO_RPC -y

# 9E0CF8AD87E09B237CA85D733D8EE81F84F85105F3ECF65815294B17A3873D5F

```

Verifica

```bash

NFT_PATH=$(./echo_path.sh ij)"commnet001"
SEG="nft-transfer/$IRIS_TO_JUNO_CHANNEL_2"
NFT_PATH=$SEG/$NFT_PATH

HASH=$($IRIS_BIN q nft-transfer class-hash "$NFT_PATH" \
--node $IRIS_RPC --output json | jq -r ".hash")

# hash 6729E822E0FDCFE02B69B0445C6CBB12AE3580EF97318B71048D35D16C5ECF49


NFT_OWNER=$($IRIS_BIN q nft token ibc/$HASH $NFT_ID --node $IRIS_RPC --output json | jq -r '.owner')

if [ "$NFT_OWNER" = "$IRIS_ADDRESS" ]; then echo "OK"; fi
# OK
```


## A16 Perform cross-chain NFT transfer as flow-b4 (CLOSE) (OK CHANNEL)

**i --(1)--> j --(1)--> s --(1)--> j --(2)--> i**

### Prepare
```bash
NFT_ID="commNft014"
./mint.sh $NFT_ID  "https://ipfs.io/ipfs/QmfKvxNwcC1R2UjopCX7VEnqxiMWF55WW2KYFD5XiPNPJX" "flow-b4"

# 86593C3D28734C21DEAC925D0C4A3F1734D2D92C0AA3281EF64A7DF99B3A146A
```

### Iris to Juno
```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_JUNO_CHANNEL_1 \
 $JUNO_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$IRIS_CHAIN_ID" \
 --node $IRIS_RPC -y

# 68687374ED6834E299014351D51E0F66A08F05A721699402F6CB6E0FD51CF031
```

Verifica

```bash


HASH=$($JUNO_BIN q wasm contract-state smart \
$JUNO_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh ij)"commnet001"'"}}' \
--node $JUNO_RPC --output json | jq -r '.data')

# data juno18tyutq4scpyk9j0u2e0vrpzukrnqv4sc9gu3l9f6tw4lh3674qjqj5ruzc

NFT_OWNER=$($JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$JUNO_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Juno to Stargaze (1)

```bash
MSG_BASE64=$(echo '{"receiver": "'$STARGAZE_ADDRESS'","channel_id":"'$JUNO_TO_STARGAZE_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}' | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
 --node $JUNO_RPC -y

# 00B9BCBC8E9EDE20A95F6478575D1BD34E86ED1C3211F89830FB9D925F3472D1
```

Verifica

```bash

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh ijs)"commnet001"'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars168xzwueahdasdra5r8ycpsv93r3ck7avu5h852fljy56nu9uxzsqxrke53

NFT_OWNER=$($STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$STARGAZE_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Stargaze to Juno (1)
```bash
MSG_BASE64=$(echo '{"receiver": "'$JUNO_ADDRESS'","channel_id":"'$STARGAZE_TO_JUNO_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}' | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y

# F8C884F3E9FE5DD6C5B2A186978C9A4807BFB8BE400989D370B865048BB46857

```

Verifica

```bash

HASH=$($JUNO_BIN q wasm contract-state smart $JUNO_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh ij)"commnet001"'"}}' --node $JUNO_RPC --output json | jq -r '.data')

# juno18tyutq4scpyk9j0u2e0vrpzukrnqv4sc9gu3l9f6tw4lh3674qjqj5ruzc

NFT_OWNER=$($JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$JUNO_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Juno to Iris (2)
```bash
MSG='{"receiver": "'$IRIS_ADDRESS'","channel_id":"'$JUNO_TO_IRIS_CHANNEL_2'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'


$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
 --node $JUNO_RPC -y

# EE6A8AA5BF64196532FE9BCC2DEC1E75DA37D1E367F55F72640349B47B57B692

```

Verifica

```bash

NFT_PATH=$(./echo_path.sh ij)"commnet001"
SEG="nft-transfer/$IRIS_TO_JUNO_CHANNEL_2"
NFT_PATH=$SEG/$NFT_PATH

HASH=$($IRIS_BIN q nft-transfer class-hash "$NFT_PATH" \
--node $IRIS_RPC --output json | jq -r ".hash")

# hash 6729E822E0FDCFE02B69B0445C6CBB12AE3580EF97318B71048D35D16C5ECF49


NFT_OWNER=$($IRIS_BIN q nft token ibc/$HASH $NFT_ID --node $IRIS_RPC --output json | jq -r '.owner')

if [ "$NFT_OWNER" = "$IRIS_ADDRESS" ]; then echo "OK"; fi
# OK

$IRIS_BIN q nft collection ibc/$HASH \
--node $IRIS_RPC --output json | jq '.'

```


## A17 Perform cross-chain NFT transfer as flow-c1 (CLOSE) (OK CHANNEL)
**i --(1)--> s --(1)--> j --(1)--> s --(1)--> i**

### Prepare
```bash
NFT_ID="commNft015"
./mint.sh $NFT_ID  "https://ipfs.io/ipfs/QmdwvZdv393UPp4qHrs3AQERjXYEpGvNWhNTJGiFx8ZVHL" "flow-c1"

# 979667E239F5621E99CF51F096649A4EDD45A2B38B874375EE8C2D55D53B61EB
```

### Iris to Stargaze
```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$IRIS_CHAIN_ID" \
 --node $IRIS_RPC -y

# E1648B415FA5D1120C97FFF3BE6E9E991FCC3B327F6705C970427831B15BE4BC
```

Verifica

```bash

NFT_PATH=


HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh is)"commnet001"'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4

NFT_OWNER=$($STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$STARGAZE_ADDRESS" ]; then echo "OK"; fi
```
```json
{
  "data": {
    "access": {
      "owner": "stars13qfqt0htfel3sxzys8hqeql8gyyspn9zlgcllq",
      "approvals": []
    },
    "info": {
      "token_uri": "https://ipfs.io/ipfs/QmdwvZdv393UPp4qHrs3AQERjXYEpGvNWhNTJGiFx8ZVHL",
      "extension": {}
    }
  }
}
```


### Stargaze to Juno

```bash

#MSG='{"receiver": "'$JUNO_ADDRESS'","channel_id":"'$STARGAZE_TO_JUNO_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

#MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")
MSG_BASE64=$(echo '{"receiver": "'$JUNO_ADDRESS'","channel_id":"'$STARGAZE_TO_JUNO_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}' | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y


# CE03F5357F11F179275E6C211602B5F2FFB9B3DCD73C150C9E58D6BE140978E9


```


Verifica

```bash

NFT_PATH=$(./echo_path.sh isj)"commnet001"

HASH=$($JUNO_BIN q wasm contract-state smart $JUNO_PORT \
'{"nft_contract": {"class_id" : "'$NFT_PATH'"}}' --node $JUNO_RPC --output json | jq -r '.data')

# juno1qyflw42e6mc06pjlcmx5am8y7ljk899rqjc0yxtvr6af0apzflks8tpmhs

NFT_OWNER=$($JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$JUNO_ADDRESS" ]; then echo "OK"; fi

```

### Juno to Stargaze

```bash
MSG_BASE64=$(echo '{"receiver": "'$STARGAZE_ADDRESS'","channel_id":"'$JUNO_TO_STARGAZE_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}' | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
 --node $JUNO_RPC -y


# 7680275AF01ED08C555456C4ADA90D6D1DCDCF7D92A57A03077E1EC003BACC63
```


```bash

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh is)"commnet001"'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4

NFT_OWNER=$($STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$STARGAZE_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Stargaze to Iris

```bash
MSG_BASE64=$(echo '{"receiver": "'$IRIS_ADDRESS'","channel_id":"'$STARGAZE_TO_IRIS_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}' | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y


# AAA462C2A1ED18C0B86A35C87F4D5E1BD69F2CF3CB629CB0B5726F6C3E67742E
```

Verifica

```bash
NFT_OWNER=$($IRIS_BIN q nft token commnet001 $NFT_ID --node $IRIS_RPC --output json | jq -r '.owner')

# "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq"
if [ "$NFT_OWNER" = "$IRIS_ADDRESS" ]; then echo "OK"; fi
# OK
```

## A18 Perform cross-chain NFT transfer as flow-c2	(CLOSE) (OK CHANNEL)
**i --(1)--> o --(1)--> u --(1)--> o --(1)--> i**

### Prepare
```bash
NFT_ID="commNft016"
./mint.sh $NFT_ID  "https://ipfs.io/ipfs/QmQLxgrS94F2oCLxr13JCogGNwdZ82vBD26ZNyGnUu8QSh" "flow-c2"

# B4E5D43D42A1C4BC13ED0CC5429AC3DA3BD3B13299FA01B8D822EF40EB8E1FBA
```

### Iris to Omniflix

```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_OMNIFLIX_CHANNEL_1 \
 $OMNIFLIX_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$IRIS_CHAIN_ID" \
--node $IRIS_RPC -y

# D603A4D3CAFAA037055DA507ECE2E6912AE3D1EC33678E21B206783E365C455C

```

Verifica

```bash
NFT_PATH=

HASH=$($OMNIFLIX_BIN query nft-transfer class-hash \
"$(./echo_path.sh io)"commnet001"" \
--node $OMNIFLIX_RPC --output json | jq -r '.hash')

# hash E37D135E8DEA31A256A9DD8EA139B83AFE07BC2E0184070148A019D5CE494300


NFT_OWNER=$($OMNIFLIX_BIN query onft asset \
ibc/$HASH $NFT_ID \
--node $OMNIFLIX_RPC -o json | jq -r '.owner')

if [ "$NFT_OWNER" = "$OMNIFLIX_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Omniflix to Uptick

```bash
$OMNIFLIX_BIN tx nft-transfer transfer \
 nft-transfer \
 $OMNIFLIX_TO_UPTICK_CHANNEL_1 \
 $UPTICK_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${OMNIFLIX_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$OMNIFLIX_CHAIN_ID" \
--node $OMNIFLIX_RPC -y

# 6A5BEFF695A15FE05FEDD22B258503761DC93B5E9F019436FF05FF116392DD54

```

Verifica

```bash
NFT_PATH=

HASH=$($UPTICK_BIN query nft-transfer class-hash \
"$(./echo_path.sh iou)commnet001" \
--node $UPTICK_RPC --output json | jq -r '.hash')

# hash D2C9650D0FC2C17122925527656280AB4CAD4A8035D543F432B8204D7AA76A73

$UPTICK_BIN query collection collection \
ibc/$HASH \
--node $UPTICK_RPC -o json | jq '.'

$UPTICK_BIN query collection token \
"ibc/$HASH" "id(commNft016)" \
--node $UPTICK_RPC -o json

# Error: nft id(commNft016) only accepts alphanumeric characters, and begin with an english letter: invalid nft id
# regexp.MustCompile(`^[a-z0-9]+$`).MatchString

NFT_OWNER=$($UPTICK_BIN query collection token \
ibc/$HASH $NFT_ID \
--node $UPTICK_RPC -o json | jq -r '.owner')

if [ "$NFT_OWNER" = "$OMNIFLIX_ADDRESS" ]; then echo "OK"; fi

$UPTICK_BIN query collection collection \
ibc/$HASH \
--node $UPTICK_RPC -o json | jq '.'
## ALL GOOD: bad control

```

### Uptick to Omniflix

```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_OMNIFLIX_CHANNEL_1 \
 $OMNIFLIX_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$UPTICK_CHAIN_ID" \
 --node $UPTICK_RPC -y

# FEFCFF709F083C13FAB2755C80B1D695B261A7C7B5F89A0A70DD4ECDEBA9DA09


$UPTICK_BIN q tx FEFCFF709F083C13FAB2755C80B1D695B261A7C7B5F89A0A70DD4ECDEBA9DA09 --node $UPTICK_RPC 
```


Verifica


```bash
HASH=$($OMNIFLIX_BIN query nft-transfer class-hash \
"$(./echo_path.sh io)"commnet001"" \
--node $OMNIFLIX_RPC --output json | jq -r '.hash')

# hash E37D135E8DEA31A256A9DD8EA139B83AFE07BC2E0184070148A019D5CE494300


NFT_OWNER=$($OMNIFLIX_BIN query onft asset \
ibc/$HASH $NFT_ID \
--node $OMNIFLIX_RPC -o json | jq -r '.owner')

if [ "$NFT_OWNER" = "$OMNIFLIX_ADDRESS" ]; then echo "OK"; fi
```


### Omniflix to Iris

```bash
$OMNIFLIX_BIN tx nft-transfer transfer \
 nft-transfer \
 $OMNIFLIX_TO_IRIS_CHANNEL_1 \
 $IRIS_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${OMNIFLIX_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$OMNIFLIX_CHAIN_ID" \
--node $OMNIFLIX_RPC -y

# 621F3DCB34C8628C2F61EEF1BA35AEF3464F5D83ADCCBBEC4BE6E250C6D23BC3

```

Verifica

```bash
NFT_OWNER=$($IRIS_BIN q nft token commnet001 $NFT_ID --node $IRIS_RPC --output json | jq -r '.owner')

# "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq"
if [ "$NFT_OWNER" = "$IRIS_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Transfer in a backtrack style.

## A19 Perform cross-chain NFT transfer as flow-c3	(CLOSE) (OK CHANNEL)
**i --(1)--> s --(1)--> j --(1)--> u --(1)--> j --(1)--> s --(1)--> i**

### Prepare
```bash
NFT_ID="commNft017"
./mint.sh $NFT_ID  "https://ipfs.io/ipfs/QmXmjDkFhXD4DN1YGW8xRXAHhJSGLgBSUtbPq7jRfKsf6U" "flow-c3"

# 51BEC612CA6F8B0283087F10C11C8B061130B4EB6A524ACF5266D09EEAFCFBBE
```

### Iris to Stargaze
```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$IRIS_CHAIN_ID" \
 --node $IRIS_RPC -y

 # 0848F4ABC973A7A3BD0347D2463AA02C39C34F991C282234F06292610254024C

 ```
Verifica

```bash

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh is)"commnet001"'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4

NFT_OWNER=$($STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$STARGAZE_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Stargaze to Juno
```bash
MSG_BASE64=$(echo '{"receiver": "'$JUNO_ADDRESS'","channel_id":"'$STARGAZE_TO_JUNO_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}' | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y

# 4A9A668B6C07200F3C541E9237EA1A97EA781C397F114C511B8BC3FB3D254C40
```

Verifica

```bash

NFT_PATH=

HASH=$($JUNO_BIN q wasm contract-state smart $JUNO_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh isj)"commnet001"'"}}' --node $JUNO_RPC --output json | jq -r '.data')

# juno1qyflw42e6mc06pjlcmx5am8y7ljk899rqjc0yxtvr6af0apzflks8tpmhs

NFT_OWNER=$($JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$JUNO_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Juno to Uptick
```bash
MSG='{"receiver": "'$UPTICK_ADDRESS'","channel_id":"'$JUNO_TO_UPTICK_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
--node $JUNO_RPC -y

# 6BD18797045D41B0E1D318FBC791C688510CDA24865E11E87497F44F2E94B64A
```
Verifica

```bash

NFT_PATH=

HASH=$($UPTICK_BIN q nft-transfer class-hash "$(./echo_path.sh isju)commnet001" \
--node $UPTICK_RPC --output json | jq -r '.hash')

# hash 9F0ACDD95C8E851A3DE78AC683E6C570AD7D3B508C53C30FCFD58ED6F4559E46

NFT_OWNER=$($UPTICK_BIN q collection collection ibc/$HASH  --node $UPTICK_RPC -o json | jq -r '.collection.nfts[] | select(.id=="'$NFT_ID'") | .owner')

if [ "$NFT_OWNER" = "$UPTICK_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Uptick to Juno
```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_JUNO_CHANNEL_1 \
 $JUNO_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$UPTICK_CHAIN_ID" \
--node $UPTICK_RPC -y

# 7257F3144B073F588AF9B765F4C7EA075E1C40FC6C27152030E327261FBFB3CC


$UPTICK_BIN q tx 7257F3144B073F588AF9B765F4C7EA075E1C40FC6C27152030E327261FBFB3CC --node $UPTICK_RPC
```

Verifica

```bash

HASH=$($JUNO_BIN q wasm contract-state smart $JUNO_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh isj)"commnet001"'"}}' --node $JUNO_RPC --output json | jq -r '.data')

# juno1qyflw42e6mc06pjlcmx5am8y7ljk899rqjc0yxtvr6af0apzflks8tpmhs

NFT_OWNER=$($JUNO_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $JUNO_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$JUNO_ADDRESS" ]; then echo "OK"; fi
# OK

```

### Juno to Stargaze

```bash
MSG_BASE64=$(echo '{"receiver": "'$STARGAZE_ADDRESS'","channel_id":"'$JUNO_TO_STARGAZE_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}' | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$JUNO_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$JUNO_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${JUNO_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$JUNO_CHAIN_ID" \
 --node $JUNO_RPC -y

# C273D8C4940D6780B84CC5CFC02968DB1BB752548E25F5CDF72C531F3F05DE75

```

Verifica

```bash

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh is)"commnet001"'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars1kk2kyshcrmxxgavpuvd9dyfxyfsl49ngrq8ydkcrlmuekr3zlmqs0dtee4

NFT_OWNER=$($STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$STARGAZE_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Stargaze to Iris

```bash
MSG_BASE64=$(echo '{"receiver": "'$IRIS_ADDRESS'","channel_id":"'$STARGAZE_TO_IRIS_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}' | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y


# 6A1D53262379CBB86003AC22E439DE460E89F7B15EE6B8A874BB7E0C84D64AE6

```


Verifica

```bash
NFT_OWNER=$($IRIS_BIN q nft token commnet001 $NFT_ID --node $IRIS_RPC --output json | jq -r '.owner')

# "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq"
if [ "$NFT_OWNER" = "$IRIS_ADDRESS" ]; then echo "OK"; fi
# OK
```

## A20 Perform cross-chain NFT transfer as flow-c4	(CLOSE) (OK CHANNEL)
**i --(1)--> u --(1)--> s --(1)--> o --(1)--> s --(1)--> u --(1)--> i**

### Prepare

```bash

NFT_ID="commNft018"
./mint.sh $NFT_ID  "https://ipfs.io/ipfs/Qmf5YekaXqW1qpcY2zxdX52gT4AXcttv9sxuDx2jx3Ap2K" "flow-c4"

# 591AD901056F36BB7F9A5565F7191462142F3CF87B4D07171DE1DB8A0527F932
```

### Iris to Uptick
```bash
$IRIS_BIN tx nft-transfer transfer \
 nft-transfer \
 $IRIS_TO_UPTICK_CHANNEL_1 \
 $UPTICK_ADDRESS \
 commnet001 \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${IRIS_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$IRIS_CHAIN_ID" \
--node $IRIS_RPC -y

# 058B3108871B0732FB7327EC5DFE058698D194D2479E815DFDB48031619A2E3C
```

Verifica

```bash

HASH=$($UPTICK_BIN q nft-transfer class-hash "$(./echo_path.sh iu)commnet001" \
--node $UPTICK_RPC --output json | jq -r '.hash')

# hash EFAF63750C0C9DFA450EC2AA3377F32CF7398888436F8412DC127C4236FAAB7B

NFT_OWNER=$($UPTICK_BIN q collection collection ibc/$HASH  --node $UPTICK_RPC -o json | jq -r '.collection.nfts[] | select(.id=="'$NFT_ID'") | .owner')

if [ "$NFT_OWNER" = "$UPTICK_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Uptick to Stargaze <---
```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
--fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
--chain-id "$UPTICK_CHAIN_ID" \
--node $UPTICK_RPC -y

# 657D99F33C83AD0EE9C1484011236E6F594BFBF0C3CC93016A9FDEEE918CEE26

$UPTICK_BIN q tx 657D99F33C83AD0EE9C1484011236E6F594BFBF0C3CC93016A9FDEEE918CEE26 --node $UPTICK_RPC 
```

Verifica

```bash

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "'$(./echo_path.sh ius)"commnet001"'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars1e2lkag68v2jq7cq3073nzf0knjzq2vsyn2uwsc0rkvfxlhmaqapq5wynz8

NFT_OWNER=$($STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$STARGAZE_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Stargaze to Omniflix
```bash
MSG='{"receiver": "'$OMNIFLIX_ADDRESS'","channel_id":"'$STARGAZE_TO_OMNIFLIX_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y

# 99B8EC42B5853F62E05094231D78870E523D3E68727D2AB7FBEC0CADF05DF3FA

```

Verifica


```bash
NFT_PATH=$(./echo_path.sh iuso)"commnet001"

HASH=$($OMNIFLIX_BIN q nft-transfer class-hash "$NFT_PATH" --node $OMNIFLIX_RPC --output json | jq -r '.hash')

# hash 865D75EF4207E60397C9C2023DAFDD94F704A77AD4DA6066294571801DCA0D4F

NFT_OWNER=$($OMNIFLIX_BIN q onft asset ibc/$HASH $NFT_ID --node $OMNIFLIX_RPC -o json | jq -r '.owner')

if [ "$NFT_OWNER" = "$OMNIFLIX_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Omniflix to Stargaze

```bash
$OMNIFLIX_BIN tx nft-transfer transfer \
 nft-transfer \
 $OMNIFLIX_TO_STARGAZE_CHANNEL_1 \
 $STARGAZE_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${OMNIFLIX_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$OMNIFLIX_CHAIN_ID" \
 --node $OMNIFLIX_RPC -y

# 38FCD7CADC18BC3F86C0A15CA37088780A424E7CB7140EFCF88B5FD35C7E4667
```


Verifica

```bash

NFT_PATH=$(./echo_path.sh ius)"commnet001"

HASH=$($STARGAZE_BIN q wasm contract-state smart \
$STARGAZE_PORT \
'{"nft_contract": {"class_id" : "'$NFT_PATH'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data')

# data stars1e2lkag68v2jq7cq3073nzf0knjzq2vsyn2uwsc0rkvfxlhmaqapq5wynz8


NFT_OWNER=$($STARGAZE_BIN q wasm contract-state smart $HASH \
'{"all_nft_info":{"token_id": "'$NFT_ID'"}}' \
--node $STARGAZE_RPC --output json | jq -r '.data.access.owner')

if [ "$NFT_OWNER" = "$STARGAZE_ADDRESS" ]; then echo "OK"; fi
# OK
```

### Stargaze to Uptick


```bash
MSG='{"receiver": "'$UPTICK_ADDRESS'","channel_id":"'$STARGAZE_TO_UPTICK_CHANNEL_1'","timeout": {"block": {"revision": 6,"height": 4697141}}}'

MSG_BASE64=$(echo "$MSG" | base64 | tr -d "\n")

JSON_MSG='{"send_nft": {"contract": "'$STARGAZE_PORT'", "token_id": "'$NFT_ID'", "msg":  "'$MSG_BASE64'"}}'

$STARGAZE_BIN tx wasm execute $HASH \
"$JSON_MSG" \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${STARGAZE_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$STARGAZE_CHAIN_ID" \
 --node $STARGAZE_RPC -y


# 64E5F73AFBADD0E9F3E3A625B47A66111BDAA51C550FAD0776BF56F7F03C9BDE
```

Verifica


```bash
NFT_PATH=$(./echo_path.sh iu)"commnet001"

HASH=$($UPTICK_BIN q nft-transfer class-hash "$NFT_PATH" --node $UPTICK_RPC --output json | jq -r '.hash')

# hash EFAF63750C0C9DFA450EC2AA3377F32CF7398888436F8412DC127C4236FAAB7B

NFT_OWNER=$($UPTICK_BIN q collection collection ibc/$HASH  --node $UPTICK_RPC -o json | jq -r '.collection.nfts[] | select(.id=="'$NFT_ID'") | .owner')

if [ "$NFT_OWNER" = "$UPTICK_ADDRESS" ]; then echo "OK"; fi
# OK
```


### Uptick to Iris



```bash
$UPTICK_BIN tx nft-transfer transfer \
 nft-transfer \
 $UPTICK_TO_IRIS_CHANNEL_1 \
 $IRIS_ADDRESS \
 ibc/$HASH \
 $NFT_ID \
 --gas auto \
 --gas-adjustment 1.4 \
 --fees 2000${UPTICK_DENOM} \
 --from GoN-Address \
 --keyring-backend test \
 --chain-id "$UPTICK_CHAIN_ID" \
 --node $UPTICK_RPC -y

# E3A2CCE7D5B244F779FC98F4B44FDD6898FDCFDBF87E09D64C5633D0911B40B1

$UPTICK_BIN q tx E3A2CCE7D5B244F779FC98F4B44FDD6898FDCFDBF87E09D64C5633D0911B40B1 --node $UPTICK_RPC 
```


Verifica

```bash
NFT_OWNER=$($IRIS_BIN q nft token commnet001 $NFT_ID --node $IRIS_RPC --output json | jq -r '.owner')

# "iaa13qfqt0htfel3sxzys8hqeql8gyyspn9z7k0nkq"
if [ "$NFT_OWNER" = "$IRIS_ADDRESS" ]; then echo "OK"; fi
# OK
```
